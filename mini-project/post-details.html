<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    let userPostId = new URL(document.URL).searchParams.get('id')
    console.log(userPostId)
    fetch(`https://jsonplaceholder.typicode.com/posts/${userPostId}`)
        .then(response => response.json())
        .then(userPost=>{
            console.log(userPost)
            let userPostEntries = Object.entries(userPost);
            for (const userPostEntry of userPostEntries) {
                let pElement = document.createElement('p');
                console.log(userPostEntry)
                pElement.innerText=`${userPostEntry[0]}: ${userPostEntry[1]}`
                document.body.appendChild(pElement)
            }
        })
    fetch(`https://jsonplaceholder.typicode.com/posts/${userPostId}/comments`)
        .then(response => response.json())
        .then(userPosts=> {
            console.log(userPosts)
                let divElement = document.createElement('div');
                document.body.appendChild(divElement)
            // console.log(Object.entries(userPosts))
            // let entries = Object.entries(userPosts)
            // for (const entry of entries) {
            //     let pElement = document.createElement('p');
            //     pElement.innerText=`${entry[0]}: ${entry[1]}`
            //     divElement.appendChild(pElement)
            // }
            // console.log(userPosts)
            //         console.log()
            //         let postCommentsEntries = Object.entries(userPosts)
            //         console.log(userPosts)
                    h(userPosts)
            function h(object){
                let v = Object.entries(object)
                for (let vElement of v) {
                    if (typeof vElement[1] === 'object'){
                        let pElement = document.createElement('p');
                        pElement.innerHTML =`<br>${vElement[0]}:`
                        pElement.style="font-weight: bold;"
                        divElement.appendChild(pElement)
                        h(vElement[1])
                    } else {
                        let pElement = document.createElement('p');
                        pElement.innerText = `${vElement[0]}: ${vElement[1]}`
                        divElement.appendChild(pElement)
                    }
                }
            }
        })




</script>
</html>